---
apiVersion: v1
kind: ConfigMap
metadata:
  name: voicemail-config
  namespace: voicemail-receiver
data:
  # Server settings
  PORT: "8080"
  HOST: "0.0.0.0"

  # Wyoming Whisper endpoint (Keepalived VIP - use IP since pods can't resolve LAN DNS)
  WHISPER_HOST: "192.168.1.54"
  WHISPER_PORT: "10300"

  # ntfy endpoint (in-cluster service)
  NTFY_URL: "http://ntfy.ntfy.svc.cluster.local"
  NTFY_TOPIC: "voicemail"

  # Voicemail settings
  GREETING_TEXT: "Please leave a message after the beep. Press pound when finished."
  MAX_RECORDING_SECONDS: "120"
  SILENCE_TIMEOUT_SECONDS: "5"

  # Storage (for saving recordings locally)
  AUDIO_DIR: "/data/voicemails"

  # Public URL for Telnyx callbacks (set in secret if sensitive)
  # WEBHOOK_BASE_URL is set in secret since it reveals your domain
