---
apiVersion: v1
kind: ConfigMap
metadata:
  name: forgejo-runner-config
  namespace: forgejo
data:
  config.yaml: |
    log:
      level: info
    runner:
      file: /data/.runner
      capacity: 2
      timeout: 3h
      labels:
        - "ubuntu-latest:docker://ghcr.io/catthehacker/ubuntu:act-latest"
    cache:
      enabled: false
    container:
      network: host
      privileged: false
      options: "--add-host=git.dimensiondoor.xyz:192.168.1.52"
      workdir_parent: /workspace
  daemon.json: |
    {
      "registry-mirrors": ["http://zot.zot.svc.cluster.local:5000"],
      "insecure-registries": ["zot.zot.svc.cluster.local:5000"],
      "mtu": 1400
    }
