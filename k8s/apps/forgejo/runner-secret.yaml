---
# This secret contains the runner registration file (.runner)
# To register a new runner:
#   1. Get a registration token from Forgejo UI: Site Administration -> Actions -> Runners -> Create new Runner
#   2. Register the runner:
#      kubectl exec -n forgejo deploy/forgejo-runner -c runner -- \
#        forgejo-runner register \
#        --instance http://forgejo-http.forgejo.svc.cluster.local:3000 \
#        --token <token> \
#        --name local-runner \
#        --no-interactive
#   3. Copy the .runner file and update this secret via sops:
#      kubectl exec -n forgejo deploy/forgejo-runner -c runner -- cat /data/.runner
#   4. Edit this file with sops: sops k8s/apps/forgejo/runner-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: forgejo-runner
  namespace: forgejo
type: Opaque
stringData:
  runner: PLACEHOLDER_REGISTER_RUNNER_FIRST
